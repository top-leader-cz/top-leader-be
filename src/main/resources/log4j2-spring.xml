<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
    <Properties>
        <Property name="LOG_PATTERN">%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{username}] %-5level %logger{36} - %msg%n</Property>
    </Properties>

    <Appenders>
        <Console name="CONSOLE" target="SYSTEM_OUT">
            <PatternLayout pattern="${LOG_PATTERN}"/>
        </Console>

        <Console name="CONSOLE_JSON" target="SYSTEM_OUT">
            <JsonTemplateLayout eventTemplateUri="classpath:gcpLayout.json"/>
        </Console>
    </Appenders>

    <Loggers>
        <SpringProfile name="default | dev | test">
            <Root level="INFO">
                <AppenderRef ref="CONSOLE"/>
            </Root>
        </SpringProfile>

        <SpringProfile name="qa | prod">
            <Root level="INFO">
                <AppenderRef ref="CONSOLE_JSON"/>
            </Root>
        </SpringProfile>

        <Logger name="org.springframework.web" level="INFO"/>
    </Loggers>
</Configuration>

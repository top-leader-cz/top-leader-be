server:
  port: 8080
  servlet:
    session:
      cookie:
        same-site: lax
        secure: false
        http-only: true

spring:
  cloud:
    gcp:
      sql:
       enabled: false
      logging:
        enabled: false
  threads:
    virtual:
      enabled: true
  jmx:
    enabled: false
  ai:
    openai:
      api-key: dummy-api-keys
      chat:
        options:
          model: gpt-3.5-turbo
  datasource:
    url: jdbc:postgresql://localhost:5434/top_leader
    username: root
    password: postgres
    hikari:
      minimum-idle: 1
      maximum-pool-size: 5

  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false
    properties:
      hibernate:
        enhancer:
          enableLazyInitialization: true
          enableDirtyTracking: true
          enableAssociationManagement: true
        jdbc:
          batch_size: 20
          fetch_size: 50
        order_inserts: true
        order_updates: true
        query:
          in_clause_parameter_padding: true
          plan_cache_max_size: 2048

  flyway:
    enabled: true
    placeholder-replacement: false
    baseline-on-migrate: true
    validate-on-migrate: true
  mail:

    host: smtp-relay.gmail.com
    port: 587
    properties:
      mail:
        transport:
          protocol: smtp
        smtp:
          auth: true
          starttls:
            enable: true
            required: true

  servlet:
    multipart:
      max-file-size: 10MB

  jackson:
    date-format: "yyyy-MM-dd'T'HH:mm:ss"
    deserialization:
      fail-on-null-for-primitives: false

top-leader:
  app-url: http://localhost:8080
  supported-invitations: en, cs, fr, de
  default-locale: en
  default-from: TopLeaderPlatform@topleader.io
  feedback:
    summary-limit: 1
  calendly:
    client-id: client-id
    client-secrets: client-secrets
    redirect-uri: http://localhost:8080/login/calendly
    base-api-url: https://api.calendly.com
    base-auth-url: https://auth.calendly.com
  job-trigger:
    password: ${JOB_TRIGGER_PASSWORD:default-dev-password}

google:
  application-name: "qa.topleaderplatform.io"
  client:
    client-id: client-id
    client-secret:  client-id
    access-token-uri: https://www.googleapis.com/oauth2/v3/token
    user-authorization-uri: https://accounts.google.com/o/oauth2/auth?access_type=offline&prompt=consent
    client-authentication-scheme: query
    redirectUri: http://localhost:8080/login/google
  resource:
    user-info-uri: https://www.googleapis.com/oauth2/v2/userinfo
    prefer-token-info: true

openai:
  image:
    url: https://api.openai.com/v1/images/generations

gcp:
  storage:
    bucket-name: ai-images-top-leader

thumbmail: http://i3.ytimg.com/vi/%s/hqdefault.jpg

management:
  health:
    mail:
      enabled: false
  endpoints:
    web:
      exposure:
        include: health, info, prometheus, metrics
  endpoint:
    health:
      show-details: when_authorized
  opentelemetry:
    resource-attributes:
      "service.name": top-leader
      "service.namespace": topleader
      "deployment.environment": local
  otlp:
    metrics:
      export:
        enabled: false
        url: https://otlp-gateway-prod-eu-west-2.grafana.net/otlp/v1/metrics
        headers:
          Authorization: "Basic ${GRAFANA_OTLP_TOKEN}"
        step: 30s
  metrics:
    tags:
      application: top-leader
      environment: local
    distribution:
      percentiles-histogram:
        http.server.requests: true
      percentiles:
        http.server.requests: 0.5, 0.75, 0.95, 0.99




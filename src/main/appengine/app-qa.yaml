runtime: java25
entrypoint: java -XX:+UseCompactObjectHeaders  -XX:+UseStringDeduplication -XX:+DisableExplicitGC -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -jar top-leader.jar
service: qa
instance_class: B4
basic_scaling:
  max_instances: 2
network:
  session_affinity: true
env_variables:
  SPRING_PROFILES_ACTIVE: "qa"
  GCP_JSON_LOGS: "CONSOLE_JSON"
  SPRING_DATASOURCE_URL: "jdbc:postgresql:///top_leader"
  SPRING_DATASOURCE_PASSWORD: "${SPRING_DATASOURCE_PASSWORD}"
  SPRING_MAIL_PASSWORD:  "${SPRING_MAIL_PASSWORD}"
  SPRING_MAIL_USERNAME: "topleaderplatform@topleader.io"
  SPRING_MAIL_HOST: "smtp.gmail.com"
  SPRING_MAIL_PORT: 587
  SPRING_AI_OPENAI_APIKEY: "${SPRING_AI_OPENAI_APIKEY}"

  # Calendly
  TOP_LEADER_CALENDLY_CLIENT_ID: "PJ2FbDI-YAyzEJya2H4RqHv_Sv0F-Hl0d-i93FkAuH8"
  TOP_LEADER_CALENDLY_CLIENT_SECRETS: "${TOP_LEADER_CALENDLY_CLIENT_SECRETS}"

  # Google OAuth
  GOOGLE_CLIENT_CLIENT_ID: "572595541175-n58eajajt5iqc5rsn25rv2mt8iejojsi.apps.googleusercontent.com"
  GOOGLE_CLIENT_CLIENT_SECRET: "${GOOGLE_CLIENT_CLIENT_SECRET}"

  # Grafana Cloud OTLP
  GRAFANA_OTLP_TOKEN: "${GRAFANA_OTLP_TOKEN}"

  # Job Trigger Auth
  JOB_TRIGGER_PASSWORD: "${JOB_TRIGGER_PASSWORD}"